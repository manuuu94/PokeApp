{%extends 'PokeApp/base.html'%}

{%block content%}

{% load static%}
<link rel="stylesheet" href="{% static 'PokeSearch/pokesearch.css' %}">


<div class="form-control">
<h2 class="center">Search Pokémon</h1>
</div>

<div class="container">

<form action="" method="POST">
    {% csrf_token %}
<div class="form-control">
    <input class="full-width-input" id="Inputvalue" name="Inputvalue" type="text" placeholder="Pokémon Name">
</div>


<div class="center">
    <button class="btn mt-3 btn-dark" name="Searchbtn" onclick="add(event);">Search</button>
</div>
</form>


{%if PokemonSearch%}
<div class="container-table" >
  <table class="table table-hover center-table">
    
    <thead>
      {%for key,value in PokemonSearch.items%}
      <th>
        {{key}}
      </th>
      {%endfor%}
    </thead>
   
    <tbody>
      {%for key,value in PokemonSearch.items%}
      <td>
        {{value}}
      </td>
      {%endfor%}
    </tbody>
  </table>

</div>

<form action="" method="POST">
  {% csrf_token %}
<div class="center">
  <button class="btn mt-3 btn-dark" name="Savebtn" value="Save Pokémon" >Save Pokémon</button>
</div>
</form>
{%endif%}
</div>
<script>        
  function add(event) {
    let input = document.getElementById("Inputvalue").value;
    if (input.trim() === "") {
      Swal.fire({
  icon: 'error',
  title: 'Oops...',
  text: 'Something went wrong!',
  footer: 'Please enter a valid Pokémon!'
});
      event.preventDefault();
    }
  };
</script>

{%endblock%}